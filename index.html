<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Expiry Checker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      --bg:#f7f7f7;
      --card:#ffffff;
      --text:#111111;
      --muted:#666666;
      --border:#cccccc;
      --btn:#111111;
      --btnText:#ffffff;
      --resultBg:#f0f0f0;
      --shadow:0 4px 14px rgba(0,0,0,0.08);
    }
    body.dark{
      --bg:#0f1115;
      --card:#171a21;
      --text:#f1f3f5;
      --muted:#a9b0bb;
      --border:#2b303a;
      --btn:#f1f3f5;
      --btnText:#111111;
      --resultBg:#11141a;
      --shadow:0 8px 22px rgba(0,0,0,0.40);
    }

    body{
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      margin:0;
      padding:20px;
      display:flex;
      justify-content:center;
    }
    .card{
      background:var(--card);
      padding:22px;
      max-width:560px;
      width:100%;
      border-radius:12px;
      box-shadow:var(--shadow);
    }
    .topbar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }
    h1{ margin:0 0 6px; font-size:22px; }
    .disclaimer{ margin:0; color:var(--muted); font-size:12px; }
    .toggle{
      border:1px solid var(--border);
      background:transparent;
      color:var(--text);
      padding:8px 10px;
      border-radius:10px;
      cursor:pointer;
      font-size:13px;
    }
    label{ display:block; margin-top:14px; font-weight:600; font-size:14px; }
    input{
      width:100%;
      padding:10px;
      margin-top:6px;
      border-radius:10px;
      border:1px solid var(--border);
      background:transparent;
      color:var(--text);
      font-size:16px;
      box-sizing:border-box;
    }
    .notice{
      margin-top:6px;
      font-size:12px;
      color:#0aa07a;
      display:none;
    }
    .btnrow{
      display:flex;
      gap:10px;
      margin-top:16px;
      flex-wrap:wrap;
    }
    button.primary{
      flex:1 1 220px;
      padding:12px;
      background:var(--btn);
      color:var(--btnText);
      border:none;
      border-radius:10px;
      font-size:16px;
      cursor:pointer;
    }
    button.secondary{
      flex:1 1 140px;
      padding:12px;
      background:transparent;
      color:var(--text);
      border:1px solid var(--border);
      border-radius:10px;
      font-size:14px;
      cursor:pointer;
    }
    .result{
      margin-top:16px;
      padding:12px;
      border-radius:10px;
      background:var(--resultBg);
      border:1px solid var(--border);
      white-space:pre-wrap;
      font-size:14px;
      min-height:52px;
    }
    .ok{ color:#0aa07a; font-weight:800; }
    .bad{ color:#d24545; font-weight:800; }
    .warn{ color:#c78a00; font-weight:800; }
  </style>
</head>

<body>
  <div class="card">
    <div class="topbar">
      <div>
        <h1>Expiry Checker</h1>
        <p class="disclaimer">Runs in your browser only. Nothing is stored.</p>
      </div>
      <button id="themeBtn" class="toggle">Dark mode</button>
    </div>

    <label>Server URL</label>
    <input id="server" value="https://" autocomplete="url">
    <div id="httpsNotice" class="notice">Switched to HTTPS for security.</div>

    <label>Username</label>
    <input id="username">

    <label>Password</label>
    <input id="password" type="password">

    <div class="btnrow">
      <button id="checkBtn" class="primary">Check expiry</button>
      <button id="resetBtn" class="secondary">Reset</button>
    </div>

    <div id="output" class="result">Ready.</div>
  </div>

<script>
(function(){
  var serverInput = document.getElementById("server");
  var notice = document.getElementById("httpsNotice");

  function normalizeServer(value){
    var v = (value || "").trim();
    if (!v) return "https://";

    var changed = false;

    if (v.startsWith("http://")){
      v = v.slice(7);
      changed = true;
    } else if (v.startsWith("https://")){
      v = v.slice(8);
    }

    if (v.endsWith("/")) v = v.slice(0, -1);

    var finalUrl = "https://" + v;
    if (changed) {
      notice.style.display = "block";
      setTimeout(function(){ notice.style.display = "none"; }, 2500);
    }
    return finalUrl;
  }

  serverInput.addEventListener("paste", function(){
    setTimeout(function(){
      serverInput.value = normalizeServer(serverInput.value);
    }, 0);
  });

  serverInput.addEventListener("blur", function(){
    serverInput.value = normalizeServer(serverInput.value);
  });

  // Prevent deleting https://
  serverInput.addEventListener("keydown", function(e){
    if (serverInput.selectionStart < 8 && e.key === "Backspace") {
      e.preventDefault();
    }
  });
})();
</script>

</body>
</html>



